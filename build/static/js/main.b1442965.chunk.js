(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{42:function(e,t,n){"use strict";n.r(t);var r=n(18),c=n.n(r),u=n(5),i=n(9),a=n(8),o=n(2),s=n(4),j=n.n(s),b="/api/persons",l={getAll:function(){return j.a.get(b).then((function(e){return e.data}))},create:function(e){return j.a.post(b,e).then((function(e){return e.data}))},remove:function(e){return j.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},update:function(e,t){return j.a.put("".concat(b,"/").concat(e),t).then((function(e){return e.data}))}},d=n(0),f=function(e){var t=e.persons,n=e.setPersons,r=e.filter,c=Object(a.a)(t).filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}));return Object(d.jsx)("ul",{children:c.map((function(e){return Object(d.jsxs)("li",{children:[e.name," ",e.number," ",Object(d.jsx)("button",{onClick:function(){return function(e){if(window.confirm("Delete ".concat(e.name," ?"))){var r=Object(a.a)(t);l.remove(e.id).then(n(r.filter((function(t){return t.id!==e.id}))))}}(e)},children:" remove "})]},e.id)}))})},h=function(e){var t=e.filter,n=e.setFilter;return Object(d.jsxs)("div",{children:["filter shown with ",Object(d.jsx)("input",{onChange:function(e){return n(e.target.value)},value:t})]})},m=function(e){var t=e.persons,n=e.setPersons,r=e.newName,c=e.setNewName,u=e.newNumber,a=e.setNewNumber;return Object(d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(r)){var o=t.find((function(e){return e.name===r}));o&&o.number!==u&&window.confirm("".concat(o.name," is already added to the phonebook, replace the old number with the new one?"))&&function(e){var r=Object(i.a)(Object(i.a)({},e),{},{number:u});l.update(e.id,r).then((function(e){n(t.map((function(t){return t.id!==r.id?t:e})))}))}(o)}else{var s={name:r,number:u};l.create(s).then((function(e){return n(t.concat(e))})),c(""),a("")}},children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{onChange:function(e){return c(e.target.value)},value:r})]}),Object(d.jsxs)("div",{children:["number: ",Object(d.jsx)("input",{onChange:function(e){return a(e.target.value)},value:u})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})},O=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(""),i=Object(u.a)(c,2),a=i[0],s=i[1],j=Object(o.useState)(""),b=Object(u.a)(j,2),O=b[0],p=b[1],v=Object(o.useState)(""),w=Object(u.a)(v,2),x=w[0],N=w[1];return Object(o.useEffect)((function(){l.getAll().then((function(e){return r(e)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(h,{filter:O,setFilter:p}),Object(d.jsx)("h2",{children:" Add a new"}),Object(d.jsx)(m,{persons:n,setPersons:r,newName:a,setNewName:s,newNumber:x,setNewNumber:N}),Object(d.jsx)("h2",{children:" Numbers"}),Object(d.jsx)(f,{persons:n,setPersons:r,filter:O})]})};c.a.render(Object(d.jsx)(O,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.b1442965.chunk.js.map